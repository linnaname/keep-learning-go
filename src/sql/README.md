![抽象与驱动](img.png)

DB本身就是线程安全的，可以在goroutine之间共享

注意：如果没设置最大连接数理论上会不限增长

db/sql包接口设计非常不错，driver/sql/具体驱动实现分离

sql包本身提供了连接池实现，底层是一个silce保存空闲连接和一个阻塞队列保存阻塞的连接。
连接并不是在sql.Open返回db对象时就建立的，这一步仅仅开了个接收建连请求的channel 。如果连接异常关闭，那么不应该继续还给连接池，而是应该新建一个连接进行替换。